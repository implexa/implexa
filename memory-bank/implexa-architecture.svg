<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="1600" xmlns="http://www.w3.org/2000/svg">
    <!-- Main title -->
    <text x="600" y="50" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle">Implexa: Code Structure Architecture</text>

    <!-- Components section -->
    <g transform="translate(100, 100)">
        <!-- Binary crate section -->
        <rect x="0" y="0" width="400" height="500" fill="#f0f8ff" stroke="#333" stroke-width="2"/>
        <text x="200" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Binary Crate (main.rs)</text>
        
        <!-- Command files -->
        <rect x="50" y="60" width="300" height="420" fill="#e6f3ff" stroke="#666" stroke-width="1" stroke-dasharray="5,5"/>
        <text x="200" y="80" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Command Files</text>
        
        <rect x="70" y="100" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="120" font-family="Arial" font-size="14" text-anchor="middle">commands.rs</text>
        
        <rect x="70" y="140" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="160" font-family="Arial" font-size="14" text-anchor="middle">part_commands.rs</text>
        
        <rect x="70" y="180" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="200" font-family="Arial" font-size="14" text-anchor="middle">relationship_commands.rs</text>
        
        <rect x="70" y="220" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="240" font-family="Arial" font-size="14" text-anchor="middle">revision_commands.rs</text>
        
        <rect x="70" y="260" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="280" font-family="Arial" font-size="14" text-anchor="middle">file_commands.rs</text>
        
        <rect x="70" y="300" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="320" font-family="Arial" font-size="14" text-anchor="middle">workflow_commands.rs</text>
        
        <rect x="70" y="340" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="360" font-family="Arial" font-size="14" text-anchor="middle">property_commands.rs</text>
        
        <rect x="70" y="380" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="400" font-family="Arial" font-size="14" text-anchor="middle">approval_commands.rs</text>
        
        <rect x="70" y="420" width="260" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="200" y="440" font-family="Arial" font-size="14" text-anchor="middle">workspace_commands.rs</text>
        
        <!-- Library crate section -->
        <rect x="500" y="0" width="600" height="700" fill="#fff0f5" stroke="#333" stroke-width="2"/>
        <text x="800" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Library Crate (lib.rs)</text>
        
        <!-- Database module -->
        <rect x="550" y="60" width="240" height="620" fill="#e6ffe6" stroke="#666" stroke-width="1"/>
        <text x="670" y="80" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">database/</text>
        
        <rect x="570" y="100" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="120" font-family="Arial" font-size="14" text-anchor="middle">mod.rs</text>
        
        <rect x="570" y="140" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="160" font-family="Arial" font-size="14" text-anchor="middle">connection_manager.rs</text>
        
        <rect x="570" y="180" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="200" font-family="Arial" font-size="14" text-anchor="middle">schema.rs</text>
        
        <rect x="570" y="220" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="240" font-family="Arial" font-size="14" text-anchor="middle">part.rs</text>
        
        <rect x="570" y="260" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="280" font-family="Arial" font-size="14" text-anchor="middle">part_management.rs</text>
        
        <rect x="570" y="300" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="320" font-family="Arial" font-size="14" text-anchor="middle">revision.rs</text>
        
        <rect x="570" y="340" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="360" font-family="Arial" font-size="14" text-anchor="middle">approval.rs</text>
        
        <rect x="570" y="380" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="400" font-family="Arial" font-size="14" text-anchor="middle">relationship.rs</text>
        
        <rect x="570" y="420" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="440" font-family="Arial" font-size="14" text-anchor="middle">property.rs</text>
        
        <rect x="570" y="460" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="480" font-family="Arial" font-size="14" text-anchor="middle">manufacturer_part.rs</text>
        
        <rect x="570" y="500" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="520" font-family="Arial" font-size="14" text-anchor="middle">file.rs</text>
        
        <rect x="570" y="540" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="560" font-family="Arial" font-size="14" text-anchor="middle">workflow.rs</text>
        
        <rect x="570" y="580" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="600" font-family="Arial" font-size="14" text-anchor="middle">category.rs</text>
        
        <rect x="570" y="620" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="670" y="640" font-family="Arial" font-size="14" text-anchor="middle">workspace.rs</text>
        
        <!-- Git backend module -->
        <rect x="820" y="60" width="240" height="300" fill="#ffffe6" stroke="#666" stroke-width="1"/>
        <text x="940" y="80" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">git_backend/</text>
        
        <rect x="840" y="100" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="120" font-family="Arial" font-size="14" text-anchor="middle">mod.rs</text>
        
        <rect x="840" y="140" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="160" font-family="Arial" font-size="14" text-anchor="middle">repository.rs</text>
        
        <rect x="840" y="180" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="200" font-family="Arial" font-size="14" text-anchor="middle">operation.rs</text>
        
        <rect x="840" y="220" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="240" font-family="Arial" font-size="14" text-anchor="middle">auth.rs</text>
        
        <rect x="840" y="260" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="280" font-family="Arial" font-size="14" text-anchor="middle">conflict.rs</text>
        
        <rect x="840" y="300" width="200" height="30" fill="#ffffff" stroke="#333" stroke-width="1"/>
        <text x="940" y="320" font-family="Arial" font-size="14" text-anchor="middle">hook.rs</text>
    </g>
    
    <!-- Import Relationships section -->
    <g transform="translate(100, 850)">
        <text x="500" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Key Import Relationships</text>
        
        <!-- Connection lines from commands to modules -->
        <line x1="200" y1="140" x2="670" y2="240" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <text x="300" y="180" font-family="Arial" font-size="12" text-anchor="middle">part_commands.rs imports part.rs</text>
        
        <line x1="200" y1="200" x2="670" y2="400" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <text x="300" y="280" font-family="Arial" font-size="12" text-anchor="middle">relationship_commands.rs imports relationship.rs</text>
        
        <line x1="200" y1="240" x2="670" y2="320" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <text x="300" y="230" font-family="Arial" font-size="12" text-anchor="middle">revision_commands.rs imports revision.rs</text>
        
        <line x1="200" y1="360" x2="670" y2="440" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <text x="300" y="380" font-family="Arial" font-size="12" text-anchor="middle">property_commands.rs imports property.rs</text>
        
        <line x1="200" y1="400" x2="670" y2="360" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
        <text x="300" y="425" font-family="Arial" font-size="12" text-anchor="middle">approval_commands.rs imports approval.rs</text>
        
        <line x1="670" y1="280" x2="670" y2="160" stroke="#3366cc" stroke-width="2"/>
        <polygon points="670,160 665,170 675,170" fill="#3366cc"/>
        <text x="720" y="220" font-family="Arial" font-size="12" text-anchor="middle">part_management.rs uses connection_manager.rs</text>
        
        <line x1="670" y1="280" x2="940" y2="160" stroke="#3366cc" stroke-width="2"/>
        <polygon points="940,160 930,165 930,155" fill="#3366cc"/>
        <text x="800" y="230" font-family="Arial" font-size="12" text-anchor="middle">part_management.rs uses git_backend</text>
    </g>
    
    <!-- Proposed Refactoring section -->
    <g transform="translate(100, 1200)">
        <text x="500" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Proposed Refactored Architecture</text>
        
        <!-- Binary crate section -->
        <rect x="0" y="60" width="300" height="150" fill="#f0f8ff" stroke="#333" stroke-width="2"/>
        <text x="150" y="90" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">Binary Crate (main.rs)</text>
        <text x="150" y="120" font-family="Arial" font-size="14" text-anchor="middle">- Command Registration Only</text>
        <text x="150" y="150" font-family="Arial" font-size="14" text-anchor="middle">- Tauri Application Setup</text>
        <text x="150" y="180" font-family="Arial" font-size="14" text-anchor="middle">- State Management</text>
        
        <!-- Library crate section -->
        <rect x="400" y="60" width="600" height="300" fill="#fff0f5" stroke="#333" stroke-width="2"/>
        <text x="700" y="90" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">Library Crate (lib.rs)</text>
        
        <!-- Core modules -->
        <rect x="430" y="120" width="240" height="100" fill="#e6ffe6" stroke="#666" stroke-width="1"/>
        <text x="550" y="140" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Core Modules</text>
        <text x="550" y="170" font-family="Arial" font-size="14" text-anchor="middle">- database/</text>
        <text x="550" y="195" font-family="Arial" font-size="14" text-anchor="middle">- git_backend/</text>
        
        <!-- Command modules -->
        <rect x="730" y="120" width="240" height="220" fill="#ffe6e6" stroke="#666" stroke-width="1"/>
        <text x="850" y="140" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">commands/</text>
        <text x="850" y="170" font-family="Arial" font-size="14" text-anchor="middle">- mod.rs</text>
        <text x="850" y="195" font-family="Arial" font-size="14" text-anchor="middle">- parts.rs</text>
        <text x="850" y="220" font-family="Arial" font-size="14" text-anchor="middle">- relationships.rs</text>
        <text x="850" y="245" font-family="Arial" font-size="14" text-anchor="middle">- revisions.rs</text>
        <text x="850" y="270" font-family="Arial" font-size="14" text-anchor="middle">- workflows.rs</text>
        <text x="850" y="295" font-family="Arial" font-size="14" text-anchor="middle">- etc.</text>
        
        <!-- Arrows -->
        <line x1="300" y1="130" x2="400" y2="130" stroke="#333" stroke-width="2"/>
        <polygon points="400,130 390,125 390,135" fill="#333"/>
        <text x="350" y="115" font-family="Arial" font-size="12" text-anchor="middle">Imports</text>
        
        <line x1="670" y1="170" x2="730" y2="170" stroke="#333" stroke-width="2"/>
        <polygon points="730,170 720,165 720,175" fill="#333"/>
        <text x="700" y="155" font-family="Arial" font-size="12" text-anchor="middle">Uses</text>
    </g>
</svg>